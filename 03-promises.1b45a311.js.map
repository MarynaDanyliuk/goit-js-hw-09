{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,UAEa,CACXC,KAAMC,SAASC,cAAe,QAC9BC,OAAQF,SAASC,cAAe,yBAChCE,WAAYH,SAASC,cAAe,uBACpCG,UAAWJ,SAASC,cAAe,sBACnCI,YAAaL,SAASC,cAAe,0BAGlCF,KAAKO,iBAAkB,UAmB5B,SAAsBC,GACpBA,EAAMC,iBAON,IALA,IAEgBC,EAAZF,EAAMG,OADRC,SAAYC,EAAKH,EAALI,MAAOC,EAAIL,EAAJK,KAAMC,EAAMN,EAANM,OAEvBC,EAASC,OAAOL,EAAMM,OACtBC,EAAWF,OAAOH,EAAKI,OAClBE,EAAW,EAAGA,EAAWL,EAAOG,MAAOE,GAAY,EAC1DC,EAAcD,EAAW,EAAGJ,EAASI,EAAWD,GAC7CG,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUX,EAAKU,EAALV,MACjBY,EAAA5B,GAAS6B,OAAOC,QACd,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANf,EAAM,M,IAGjDgB,OAAM,SAAAN,G,IAAGC,EAAQD,EAARC,SAAUX,EAAKU,EAALV,MAClBY,EAAA5B,GAAS6B,OAAOI,QACd,sBAAuCF,OAAfJ,EAAS,QAAYI,OAANf,EAAM,M,OAlCvD,IAAMkB,EAAe/B,SAASC,cAAc,SAI5C,SAASoB,EAAcG,EAAUX,GAC/B,OAAO,IAAImB,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,uBAAwCL,OAAfJ,EAAS,QAAYI,OAANf,EAAM,QAEpDqB,EAAK,sBAAuCN,OAAfJ,EAAS,QAAYI,OAANf,EAAM,O,GAErDA,E,IAXP0B,QAAQC,IAAIT,EAAapB,S","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector(`form`),\n  button: document.querySelector(`button[type=\"submit\"]`),\n  inputDelay: document.querySelector(`input[name=\"delay\"]`),\n  inputStep: document.querySelector(`input[name=\"step\"]`),\n  inputAmount: document.querySelector(`input[name=\"amount\"]`),\n};\n\nrefs.form.addEventListener(`submit`, onFormSubmit);\n\nconst formElements = document.querySelector('.form');\n\nconsole.log(formElements.elements);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay} ms`);\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay} ms`);\n      }\n    }, delay);\n  });\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const {\n    elements: { delay, step, amount },\n  } = event.target;\n  let delay1 = Number(delay.value);\n  let nextStep = Number(step.value);\n  for (let position = 0; position < amount.value; position += 1) {\n    createPromise(position + 1, delay1 + position * nextStep)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n  }\n}\n\n// ________\n\n// let delay = formElements.delay.value;\n// let step = formElements.step.value;\n// let amount = formElements.amount.value;\n// let position = 0;\n\n// const formData = {\n//   delay: delay,\n//   step: step,\n//   amount: amount,\n// };\n// console.log(formData);\n\n// const promises = [];\n\n// function createPromises({ delay, step, amount }) {\n//   // delay[0] = delay;\n//   for (let position = 0; position <= amount; position += 1) {\n//     delay[0] = delay;\n//     delay[position] += step;\n\n//     const promise = function createPromise(position, delay) {\n//       const shouldResolve = Math.random() > 0.3;\n//       return new Promise((resolve, reject) => {\n//         setTimeout(() => {\n//           if (shouldResolve) {\n//             resolve(`✅ Fulfilled promise ${position} in ${delay} ms`);\n//           } else {\n//             reject(`❌ Rejected promise ${position} in ${delay} ms`);\n//           }\n//         }, delay);\n//       });\n//     };\n\n//     // return promises.push(promise);\n//   }\n//   // return promises;\n// }\n\n// console.log(promises);\n// console.log(createPromises({ delay, step, amount }));\n\n// createPromise({ position, delay })\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay} ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay} ms`);\n//   });\n\n// const promises = promisesArray.map(promise => createPromise(position, delay));\n\n// function createPromises({ delay, step, amount }) {\n//   // let promisesArray = [];\n//   // delay[0] = 0;\n//   // for (let i = 0; i < amount; i += 1) {\n//   //   console.log((delay[i] += step));\n//   //   console.log(promise[i]);\n//   //   promisesArray.push(promise[i]);\n//   // }\n//   // return;\n// }\n\n// console.log(promisesArray);\n\n// function createPromise(position, delay) {\n//   const shouldResolve = Math.random() > 0.3;\n//   return new Promise((resolve, reject) => {\n//     setTimeout(() => {\n//       if (shouldResolve) {\n//         resolve(`✅ Fulfilled promise ${position} in ${delay} ms`);\n//       } else {\n//         reject(`❌ Rejected promise ${position} in ${delay} ms`);\n//       }\n//     }, delay);\n//     // return promise;\n//   });\n// }\n\n// createPromise(1, 1000)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay} ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay} ms`);\n//   });\n\n// function createPromise(position, delay) {\n//   const shouldResolve = Math.random() > 0.3;\n\n//   const promise = new Promise((resolve, reject) => {\n//     setTimeout(() => {\n//       if (shouldResolve) {\n//         resolve('Success! Value passed to resolve function');\n//       } else {\n//         reject('Error! Error passed to reject function');\n//       }\n//     }, delay);\n//   });\n//   return promise;\n// }\n\n// function onSuccess(result) {\n//   console.log(result);\n// }\n// function onError(result) {\n//   console.log(result);\n// }\n\n// console.log(createPromise(5, refs.inputDelay.value));\n\n// const promise = new Promise((resolve, reject) => {\n//   const delay = refs.inputDelay.value;\n//   const step = refs.inputStep.value;\n//   const position = 5;\n//   setTimeout(() => {}, delay);\n//   function createPromise(position, delay) {\n//     const shouldResolve = Math.random() > 0.3;\n//     if (shouldResolve) {\n//       resolve('Success! Value passed to resolve function');\n//     } else {\n//       reject('Error! Error passed to reject function');\n//     }\n//   }\n//   console.log(createPromise(position, delay));\n// });\n\n// promise\n//   .then(\n//     result => {\n//       console.log(`${result}`);\n//     }\n//     // error => {\n//     //   console.log(`${error}`);\n//     // }\n//   )\n//   .catch(console.log(`${error}`));\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n// Promise.then(result => {\n//   console.log(result);\n// });\n\n// console.log(createPromise(position, delay));\n\n// ___________________________________________\n// promise.then(\n//   // onResolve will run third or not at all\n//   result => {\n//     console.log('onResolve call inside promise.then()');\n//     console.log(result); // \"Success! Value passed to resolve function\"\n//   },\n//   // onReject will run third or not at all\n//   error => {\n//     console.log('onReject call inside promise.then()');\n//     console.log(error); // \"Error! Error passed to reject function\"\n//   }\n// );\n\n// ________________________\n"],"names":["$iU1Pc","parcelRequire","form","document","querySelector","button","inputDelay","inputStep","inputAmount","addEventListener","event","preventDefault","_elements","target","elements","delay2","delay","step","amount","delay1","Number","value","nextStep","position1","$ce04d3a99e08e73b$var$createPromise","then","param","position","$parcel$interopDefault","Notify","success","concat","catch","failure","$ce04d3a99e08e73b$var$formElements","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","console","log"],"version":3,"file":"03-promises.1b45a311.js.map"}